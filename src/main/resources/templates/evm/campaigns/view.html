<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
    th:replace="~{layout :: html(content=~{::content}, pageTitle='Campaign Details')}">

<body>
    <div th:fragment="content">
        <div class="card mb-3">
            <div class="card-header">
                <h3 class="card-title" th:text="${campaign.title}">Campaign</h3><span class="badge"
                    th:classappend="${'status-' + campaign.status.name().toLowerCase()}"
                    th:text="${campaign.status}">Status</span>
            </div>
            <div class="form-row">
                <div class="form-group"><label>Campaign #</label>
                    <div th:text="${campaign.campaignNumber}">SC123</div>
                </div>
                <div class="form-group"><label>Type</label><span class="badge badge-info"
                        th:text="${campaign.campaignType}">Type</span></div>
            </div>
            <div class="form-row">
                <div class="form-group"><label>Severity</label><span class="badge"
                        th:classappend="${campaign.severityLevel.name() == 'CRITICAL' ? 'badge-danger' : 'badge-warning'}"
                        th:text="${campaign.severityLevel}">Sev</span></div>
                <div class="form-group"><label>Progress</label>
                    <div th:text="${campaign.completedCount + '/' + (campaign.totalAffected ?: '?')}">0/100</div>
                </div>
            </div>
            <div class="form-group"><label>Description</label>
                <div th:text="${campaign.description ?: 'N/A'}">Desc</div>
            </div>
            <div class="form-group"><label>Remedy</label>
                <div th:text="${campaign.remedyDescription ?: 'N/A'}">Remedy</div>
            </div>
        </div>

        <div class="card mb-3" th:if="${campaign.status.name() == 'DRAFT' or campaign.status.name() == 'ACTIVE'}">
            <div class="card-header">
                <h3 class="card-title">Actions</h3>
            </div>
            <div class="btn-group">
                <form th:if="${campaign.status.name() == 'DRAFT'}"
                    th:action="@{/evm/campaigns/{id}/activate(id=${campaign.id})}" method="post"><button
                        class="btn btn-success"><i class="fas fa-play"></i> Activate</button></form>
                <form th:if="${campaign.status.name() == 'ACTIVE'}"
                    th:action="@{/evm/campaigns/{id}/complete(id=${campaign.id})}" method="post"><button
                        class="btn btn-primary"><i class="fas fa-check"></i> Complete</button></form>
                <a th:href="@{/evm/campaigns/{id}/edit(id=${campaign.id})}" class="btn btn-secondary"><i
                        class="fas fa-edit"></i> Edit</a>
            </div>
        </div>

        <a th:href="@{/evm/campaigns}" class="btn btn-secondary"><i class="fas fa-arrow-left"></i> Back</a>
    </div>
</body>

</html>