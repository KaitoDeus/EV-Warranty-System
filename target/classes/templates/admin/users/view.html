<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
    th:replace="~{layout :: html(content=~{::content}, pageTitle='User Details')}">

<body>
    <div th:fragment="content">
        <div class="card mb-3">
            <div class="card-header">
                <h3 class="card-title" th:text="${user.fullName}">User</h3><a
                    th:href="@{/admin/users/{id}/edit(id=${user.id})}" class="btn btn-secondary btn-sm"><i
                        class="fas fa-edit"></i> Edit</a>
            </div>
            <div class="form-row">
                <div class="form-group"><label>Username</label>
                    <div th:text="${user.username}">user</div>
                </div>
                <div class="form-group"><label>Email</label>
                    <div th:text="${user.email}">email</div>
                </div>
            </div>
            <div class="form-row">
                <div class="form-group"><label>Roles</label>
                    <div><span th:each="role : ${user.roles}" class="badge badge-primary" style="margin-right: 4px;"
                            th:text="${role.name}">ROLE</span></div>
                </div>
                <div class="form-group"><label>Status</label><span th:if="${user.active}"
                        class="badge badge-success">Active</span><span th:unless="${user.active}"
                        class="badge badge-secondary">Inactive</span></div>
            </div>
            <div class="form-row">
                <div class="form-group"><label>Service Center</label>
                    <div th:text="${user.serviceCenter ?: 'N/A'}">SC</div>
                </div>
                <div class="form-group"><label>Last Login</label>
                    <div
                        th:text="${user.lastLogin != null ? #temporals.format(user.lastLogin, 'MMM dd, yyyy HH:mm') : 'Never'}">
                        Login</div>
                </div>
            </div>
        </div>

        <div class="card mb-3">
            <div class="card-header">
                <h3 class="card-title">Reset Password</h3>
            </div>
            <form th:action="@{/admin/users/{id}/reset-password(id=${user.id})}" method="post" class="d-flex gap-2">
                <input type="password" name="newPassword" class="form-control" style="max-width: 300px;"
                    placeholder="New password" required minlength="6">
                <button type="submit" class="btn btn-warning"><i class="fas fa-key"></i> Reset</button>
            </form>
        </div>

        <a th:href="@{/admin/users}" class="btn btn-secondary"><i class="fas fa-arrow-left"></i> Back</a>
    </div>
</body>

</html>