# Kịch Bản Kiểm Thử Phần Mềm (UAT - Manufacturer & Admin Module)

## Hệ Thống Quản Lý Bảo Hành Xe Điện

### 1. Phê Duyệt Yêu Cầu Bảo Hành (Claims Approval)

| ID       | Title                                     | Description                                            | Steps                                                                                       | Test Data                                      | Expected                                                                                            | Priority     |
| :------- | :---------------------------------------- | :----------------------------------------------------- | :------------------------------------------------------------------------------------------ | :--------------------------------------------- | :-------------------------------------------------------------------------------------------------- | :----------- |
| **TC13** | Đăng nhập với quyền Hãng (EVM Staff)      | Kiểm tra quyền truy cập đúng dashboard hãng.           | 1. Vào trang đăng nhập.<br>2. Nhập thông tin nhân viên hãng.                                | User: `evmstaff`<br>Pass: `password123`        | Redirect đến `Manufacturer Dashboard`.<br>Menu có `Pending Claims`, `Recall Mgmt`.                  | **Critical** |
| **TC14** | Xem danh sách yêu cầu chờ duyệt (Listing) | Đảm bảo danh sách hiển thị đúng yêu cầu từ SC gửi lên. | 1. Vào `Claims Approval`.<br>2. Kiểm tra danh sách `PENDING`.                               | Claim List                                     | Hiển thị danh sách PENDING với các trường: ID, VIN, Linh kiện, Ngày gửi.                            | High         |
| **TC15** | Phê duyệt Bảo hành (Positive)             | Kiểm tra luồng duyệt thành công.                       | 1. Click vào Claim `PENDING`.<br>2. Nhấn `APPROVE`.<br>3. Nhập ghi chú (Optional).          | Claim ID: `CL-1234`<br>Reason: "Ok, thay thế." | Trạng thái Claim -> `APPROVED`.<br>Thông báo "Đã duyệt yêu cầu".                                    | **Critical** |
| **TC16** | Từ chối Bảo hành (Negative)               | Kiểm tra bắt buộc nhập lý do khi từ chối.              | 1. Click vào Claim `PENDING`.<br>2. Nhấn `REJECT`.<br>3. Bỏ trống lý do.<br>4. Nhấn Submit. | Reason: [Empty]                                | Hiển thị lỗi chớp đỏ: "Bắt buộc nhập lý do từ chối". Form không gửi đi.                             | High         |
| **TC17** | Từ chối Bảo hành với lý do (Positive)     | Kiểm tra luồng từ chối hợp lệ.                         | 1. Nhập lý do từ chối.<br>2. Nhấn `REJECT`.                                                 | Reason: "Lỗi do người dùng"                    | Trạng thái Claim -> `REJECTED`.<br>Thông báo thành công.                                            | Medium       |
| **TC18** | Xem Dashboard phân tích (Real-time)       | Kiểm tra biểu đồ/thống kê hoạt động.                   | 1. Vào Dashboard chính.<br>2. Quan sát biểu đồ.                                             | N/A                                            | Biểu đồ hiển thị số liệu Claims theo thời gian. Không có lỗi `500 Server Error` hoặc biểu đồ trống. | High         |

### 2. Quản Lý Chiến Dịch Triệu Hồi (Recall Campaign)

| ID       | Title                                           | Description                                          | Steps                                                                                            | Test Data                                                        | Expected                                                                                    | Priority     |
| :------- | :---------------------------------------------- | :--------------------------------------------------- | :----------------------------------------------------------------------------------------------- | :--------------------------------------------------------------- | :------------------------------------------------------------------------------------------ | :----------- |
| **TC19** | Tạo Chiến dịch Triệu hồi Mới (Critical)         | Kiểm tra khả năng tạo chiến dịch triệu hồi.          | 1. Vào `Recall Management`.<br>2. Nhấn "Tạo Chiến Dịch".<br>3. Chọn Model xe, Lỗi, Ngày bắt đầu. | Model: `EV-X`<br>Type: Brake System<br>Range: VIN_001 -> VIN_100 | Chiến dịch được tạo.<br>Trạng thái `ACTIVE`.<br>Hệ thống gửi thông báo/tag xe bị ảnh hưởng. | **Critical** |
| **TC20** | Kiểm tra danh sách xe bị ảnh hưởng (Validation) | Đảm bảo số lượng xe hiển thị đúng với điều kiện lọc. | 1. Vào chi tiết chiến dịch.<br>2. Check danh sách VIN.                                           | Filters: Model `EV-X`, Year `2024`                               | Danh sách xe khớp với điều kiện lọc đã chọn.                                                | High         |

### 3. Quản Trị Hệ Thống (Admin Role)

| ID       | Title                                    | Description                            | Steps                                                                                              | Test Data                                            | Expected                                                                                      | Priority |
| :------- | :--------------------------------------- | :------------------------------------- | :------------------------------------------------------------------------------------------------- | :--------------------------------------------------- | :-------------------------------------------------------------------------------------------- | :------- |
| **TC21** | Tạo tài khoản người dùng mới (User Mgmt) | Kiểm tra chức năng thêm nhân viên mới. | 1. Đăng nhập Admin.<br>2. Vào `User Management`.<br>3. Nhấn `Add User`.<br>4. Điền Role, Username. | Role: `SC_TECH`<br>User: `newuser`<br>Pass: `123456` | Người dùng được tạo thành công.<br>Có thể đăng nhập bằng tài khoản mới.                       | High     |
| **TC22** | Xóa/Khóa tài khoản (Negative)            | Kiểm tra việc khóa quyền truy cập.     | 1. Chọn user đang hoạt động.<br>2. Đổi trạng thái `ACTIVE` -> `INACTIVE` (hoặc Delete).            | User: `staff_retired`                                | Tài khoản bị logout ngay lập tức (nếu có cơ chế session update) hoặc không thể đăng nhập lại. | Medium   |
